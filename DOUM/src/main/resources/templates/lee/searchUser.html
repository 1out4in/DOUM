<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/lee/searchUser.css}" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>

<style>
    label {
        display: flex;
    }
</style>
<body>
<header class="common-width">
    <h1>MyPage | DOUM</h1>
    <div class="nav-right">
        <!--        <form action="/search" method="get">-->
        <!--            <input type="text" name="query" placeholder="Search users...">-->
        <!--            <button type="submit"><i class="fas fa-search"></i></button>-->
        <!--        </form>-->

        <form th:action="@{/Lee/search}" th:method="get">
            <label>
                <input type="text" id="searchInput" name="search" placeholder="search user...">
                <input type="hidden" id="userId" name="userId" th:value="${user.userId}">
                <button class="search-btn" type="submit" ><i class="fas fa-search"></i></button>


            </label>
        </form>

        <!--        <button type="button"><i class="fas fa-bell icon"></i></button>-->
    </div>
</header>






<main>

    <section style="width: 1200px;" class="main-container">
        <h2>VOLUNTEERS</h2>
<!--        <div>-->
<!--            <label for="volunteer-type"> 정렬 </label>-->
<!--            <select id="volunteer-type">-->
<!--                <option value="environment"></option>-->
<!--                <option value="education">연령대</option>-->
<!--            </select>-->
<!--        </div>-->
<!--        <div class="contest-list">-->
<!--            <div th:each="user, userStat :${users}" class="contest-item"-->
<!--                 th:data-name="${user.name}"-->
<!--                th:data-pic="${user.userId}"></div>-->
<!--        <div class="contest-list">-->
<!--            <div th:each="user:${users}">-->
<!--                <div class="contest-item">-->
<!--                    <img th:src="@{${user.profilePic}}" alt="userImg">-->
<!--&lt;!&ndash;                    <img src="@{*{image}}" alt="userImg">&ndash;&gt;-->

<!--                    <div class="contest-list-text">-->
<!--                        <h3 th:text="${user.name}">username<span style="font-size: x-small;">★4.3</span> </h3>-->
<!--&lt;!&ndash;                        <p><span style="font-weight: bold;">주 봉사지역</span> </p>&ndash;&gt;-->
<!--                        <p><span style="font-weight: bold;">email</span> <span th:text="${user.email}"></span></p>-->
<!--&lt;!&ndash;                        <p><span th:text="${user.email}"></span></p>&ndash;&gt;-->


<!--&lt;!&ndash;                        <h3>Ally <span style="font-size: x-small;">★4.3</span>   </h3>&ndash;&gt;-->

<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
        <div class="contest-list">
            <div th:each="user:${users}">
                <a th:href="@{/Lee/myPage/{userId}(userId=${user.userId})}" class="contest-item">
<!--                    <img th:src="@{${user.profilePic}}" alt="userImg">-->
                    <img th:src="${user.profilePic}" alt="userImg">
<!--                    <img src="https://img4.daumcdn.net/thumb/R658x0.q70/?fname=https://t1.daumcdn.net/news/202105/24/notepet/20210524031337477vmkh.jpg" alt="userImg">-->


                    <div class="contest-list-text">
                        <h3 th:text="${user.name}">username<span style="font-size: x-small;">★4.3</span> </h3>
                        <p><span style="font-weight: bold;">email</span> <span th:text="${user.email}"></span></p>
                    </div>
                </a>
            </div>



            <!-- jser 더 추가할거면 여기서 더 추가  -->
        </div>
    </section>
</main>
<footer style="background-color: #2f2f2f">
<!--    <img src="../img/도움로고.png" alt="">-->
    <p >DOUM</p>
    <p>Ministry of the Interior and Safety.All Rights reserved.</p>
</footer>

</body>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->
<!--<script>-->

<!--    let search = null;-->
<!--    // let searchType = null;-->

<!--    // 처음 페이지가 로드 될 때 실행될 함수-->
<!--    window.onload = function(){-->
<!--        // searchType = $('select[name="search-type"]').val();-->
<!--        search = $('input[name="search"]').val();-->
<!--        // $('input[id="sort-newest"]').prop('checked', true);-->

<!--        getList(1);-->
<!--    }-->


<!--    function getList(page){-->
<!--        $.ajax({-->
<!--            method : 'get',-->
<!--            url : '/rest',-->
<!--            data : {-->

<!--                search : search-->
<!--            },-->
<!--            success:function (data){-->
<!--                // 리스트 뿌려주는 함수.-->
<!--                renderUser(data.content);-->

<!--            },-->
<!--            error:function (){-->
<!--                console.error('실패')-->
<!--            }-->
<!--        })-->
<!--    }-->

<!--   -->


<!--    // 리스트 데이터를 받아서 랜더링 하는 함수.-->
<!--    function renderUser(users){-->
<!--        const userContainer = $('.contest-list');-->
<!--        userContainer.empty();-->

<!--        users.forEach(function(user) {-->
<!--            // let fileString = board.fileCount > 0 ? `  [첨부파일:${board.fileCount}]` : '';-->

<!--            let userRow = `<tr><td>${user.userId}</td>-->
<!--            <td><a href="/lee/myPage/${user.userId}">${user.userId}</a></td>`;-->
<!--            userContainer.append(userRow);-->
<!--        });-->
<!--    }-->

<!--    -->

<!--    function saveKeyword(){-->
<!--        // searchType = $('select[name="search-type"]').val();-->
<!--        search = $('input[name="search"]').val();-->
<!--        getList(1);-->
<!--    }-->

<!--</script>-->
<script>
    function saveKeyword() {
        // 입력값 가져오기
        var searchKeyword = document.getElementById('searchInput').value;

        // 검색어가 비어있는 경우 처리
        if (!searchKeyword.trim()) {
            alert('검색어를 입력하세요.');
            return;
        }

        // 폼을 생성하여 서버로 전송
        var form = document.createElement('form');
        form.method = 'GET'; // 또는 'POST' (선택 사항)
        form.action = '/search'; // 서버 컨트롤러의 URL

        var input = document.createElement('input');
        var input2 = document.createElement('input');
        input.type = 'hidden';
        input.name = 'search';
        input.value = searchKeyword;

        input2.type = 'hidden';
        input2.name = 'search';
        input2.value = document.getElementById('userID').value;

        form.appendChild(input);
        form.appendChild(input2);
        document.body.appendChild(form);
        form.submit();
    }



</script>

</html>